<Window x:Class="ImageEditor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="âœ¨ Image Editor 1.0.1" Height="680" Width="920"
        WindowStartupLocation="CenterScreen"
        Background="#1E1E1E"
        KeyDown="Window_KeyDown">
    <Window.Resources>
        <!-- Modern Dark Button Style -->
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Background" Value="#2D2D2D"/>
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#404040"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#404040"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#505050"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="#666666"/>
                                <Setter Property="Background" Value="#1A1A1A"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Dark ContextMenu Style -->
        <Style TargetType="ContextMenu">
            <Setter Property="Background" Value="#2D2D2D"/>
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="BorderBrush" Value="#404040"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>

        <Style TargetType="MenuItem">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#E0E0E0"/>
            <Setter Property="Padding" Value="8,4"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#404040"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Foreground" Value="#666666"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Toolbar Row 1 -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Background="#252525">
            <Button x:Name="btnUpload" Content="ðŸ“ Upload" Width="80" Height="32" Margin="6,4,3,4" Click="BtnUpload_Click" Style="{StaticResource ModernButton}"/>
            <Button x:Name="btnPaste" Content="ðŸ“‹ Paste" Width="80" Height="32" Margin="3,4,3,4" Click="BtnPaste_Click" Style="{StaticResource ModernButton}"/>
            <Separator Width="10" Background="Transparent"/>

            <Button x:Name="btnBlur" Content="ðŸŒ«ï¸ Blur" Width="65" Height="32" Margin="3,4,3,4" Click="BtnBlur_Click" IsEnabled="False" Style="{StaticResource ModernButton}"/>
            <Button x:Name="btnHighlight" Content="ðŸ–ï¸ High" Width="65" Height="32" Margin="3,4,3,4" Click="BtnHighlight_Click" IsEnabled="False" Style="{StaticResource ModernButton}"/>
            <Button x:Name="btnCircle" Content="â­• Circle" Width="80" Height="32" Margin="3,4,3,4" Click="BtnCircle_Click" IsEnabled="False" Style="{StaticResource ModernButton}"/>
            <Button x:Name="btnRectangle" Content="â¬œ Rect" Width="75" Height="32" Margin="3,4,3,4" Click="BtnRectangle_Click" IsEnabled="False" Style="{StaticResource ModernButton}"/>
            <Button x:Name="btnArrow" Content="âž¡ï¸ Arrow" Width="85" Height="32" Margin="3,4,3,4" Click="BtnArrow_Click" IsEnabled="False" Style="{StaticResource ModernButton}"/>
            <Button x:Name="btnAddText" Content="âœï¸ Text" Width="75" Height="32" Margin="3,4,3,4" Click="BtnAddText_Click" IsEnabled="False" Style="{StaticResource ModernButton}"/>

            <Separator Width="10" Background="Transparent"/>
            <TextBlock Text="ðŸŽ¨" FontSize="14" VerticalAlignment="Center" Margin="3,0,3,0" Foreground="#E0E0E0"/>
            <ComboBox x:Name="cmbColor" Width="75" Height="28" SelectedIndex="1" Background="#2D2D2D" Foreground="#E0E0E0">
                <ComboBoxItem Tag="Black">
                    <StackPanel Orientation="Horizontal">
                        <Ellipse Width="12" Height="12" Fill="Black" Stroke="#404040" StrokeThickness="1" Margin="0,0,5,0"/>
                        <TextBlock Foreground="Black" FontWeight="SemiBold">Black</TextBlock>
                    </StackPanel>
                </ComboBoxItem>
                <ComboBoxItem Tag="Red">
                    <StackPanel Orientation="Horizontal">
                        <Ellipse Width="12" Height="12" Fill="Red" Margin="0,0,5,0"/>
                        <TextBlock Foreground="Black" FontWeight="SemiBold">Red</TextBlock>
                    </StackPanel>
                </ComboBoxItem>
                <ComboBoxItem Tag="Blue">
                    <StackPanel Orientation="Horizontal">
                        <Ellipse Width="12" Height="12" Fill="Blue" Margin="0,0,5,0"/>
                        <TextBlock Foreground="Black" FontWeight="SemiBold">Blue</TextBlock>
                    </StackPanel>
                </ComboBoxItem>
                <ComboBoxItem Tag="Green">
                    <StackPanel Orientation="Horizontal">
                        <Ellipse Width="12" Height="12" Fill="Green" Margin="0,0,5,0"/>
                        <TextBlock Foreground="Black" FontWeight="SemiBold">Green</TextBlock>
                    </StackPanel>
                </ComboBoxItem>
                <ComboBoxItem Tag="Yellow">
                    <StackPanel Orientation="Horizontal">
                        <Ellipse Width="12" Height="12" Fill="Yellow" Margin="0,0,5,0"/>
                        <TextBlock Foreground="Black" FontWeight="SemiBold">Yellow</TextBlock>
                    </StackPanel>
                </ComboBoxItem>
                <ComboBoxItem Tag="Orange">
                    <StackPanel Orientation="Horizontal">
                        <Ellipse Width="12" Height="12" Fill="Orange" Margin="0,0,5,0"/>
                        <TextBlock Foreground="Black" FontWeight="SemiBold">Orange</TextBlock>
                    </StackPanel>
                </ComboBoxItem>
                <ComboBoxItem Tag="Purple">
                    <StackPanel Orientation="Horizontal">
                        <Ellipse Width="12" Height="12" Fill="Purple" Margin="0,0,5,0"/>
                        <TextBlock Foreground="Black" FontWeight="SemiBold">Purple</TextBlock>
                    </StackPanel>
                </ComboBoxItem>
                <ComboBoxItem Tag="White">
                    <StackPanel Orientation="Horizontal">
                        <Ellipse Width="12" Height="12" Fill="White" Stroke="#404040" StrokeThickness="1" Margin="0,0,5,0"/>
                        <TextBlock Foreground="Black" FontWeight="SemiBold">White</TextBlock>
                    </StackPanel>
                </ComboBoxItem>
            </ComboBox>

            <TextBlock Text="ðŸ“" FontSize="14" VerticalAlignment="Center" Margin="10,0,3,0" Foreground="#E0E0E0"/>
            <Slider x:Name="sliderThickness" Width="55" Minimum="1" Maximum="10" Value="2" TickFrequency="1" IsSnapToTickEnabled="True" VerticalAlignment="Center"/>
            <TextBlock Text="{Binding ElementName=sliderThickness, Path=Value, StringFormat={}{0:F0}}" Foreground="#E0E0E0" VerticalAlignment="Center" Width="20" Margin="0,0,3,0" FontSize="11"/>
        </StackPanel>

        <!-- Toolbar Row 2 -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Background="#2A2A2A">
            <Button x:Name="btnFitToScreen" Content="ðŸ” Fit to Screen" Width="110" Height="30" Margin="6,4,3,4" Click="BtnFitToScreen_Click" IsEnabled="False" Style="{StaticResource ModernButton}"/>
            <Button x:Name="btnActualSize" Content="1ï¸âƒ£ 100%" Width="80" Height="30" Margin="3,4,3,4" Click="BtnActualSize_Click" IsEnabled="False" Style="{StaticResource ModernButton}"/>
            <Separator Width="10" Background="Transparent"/>
            <Button x:Name="btnUndo" Content="â†©ï¸ Undo" Width="75" Height="30" Margin="3,4,3,4" Click="BtnUndo_Click" IsEnabled="False" Style="{StaticResource ModernButton}"/>
            <Button x:Name="btnCopyToClipboard" Content="ðŸ“¤ Copy" Width="80" Height="30" Margin="3,4,3,4" Click="BtnCopyToClipboard_Click" IsEnabled="False" FontWeight="Bold" Style="{StaticResource ModernButton}"/>
            <Button x:Name="btnReset" Content="ðŸ—‘ï¸ Clear" Width="80" Height="30" Margin="3,4,3,4" Click="BtnReset_Click" IsEnabled="False" Style="{StaticResource ModernButton}"/>
            <Separator Width="10" Background="Transparent"/>
            <Button x:Name="btnHelp" Content="â“ Help" Width="75" Height="30" Margin="3,4,6,4" Click="BtnHelp_Click" Style="{StaticResource ModernButton}"/>
        </StackPanel>

        <!-- Canvas for image editing -->
        <Border Grid.Row="2" Background="#0A0A0A" BorderBrush="#404040" BorderThickness="1" Margin="6">
            <Grid>
                <ScrollViewer x:Name="scrollViewer" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                    <Canvas x:Name="mainCanvas" Background="#1A1A1A"
                            MouseDown="Canvas_MouseDown"
                            MouseMove="Canvas_MouseMove"
                            MouseUp="Canvas_MouseUp"
                            MouseRightButtonUp="Canvas_MouseRightButtonUp">
                        <Canvas.ContextMenu>
                            <ContextMenu Background="#2D2D2D" Foreground="#E0E0E0">
                                <MenuItem Header="ðŸ“¤ Copy (Ctrl+C)" Click="BtnCopyToClipboard_Click" Name="ctxCopy"/>
                                <Separator/>
                                <MenuItem Header="ðŸ“‹ Paste (Ctrl+V)" Click="BtnPaste_Click" Name="ctxPaste"/>
                                <MenuItem Header="â†©ï¸ Undo (Ctrl+Z)" Click="BtnUndo_Click" Name="ctxUndo"/>
                                <Separator/>
                                <MenuItem Header="ðŸ—‘ï¸ Clear All" Click="BtnReset_Click" Name="ctxClear"/>
                            </ContextMenu>
                        </Canvas.ContextMenu>
                        <!-- Image will be added here programmatically -->
                    </Canvas>
                </ScrollViewer>
                <!-- Empty state message -->
                <TextBlock x:Name="txtEmptyState" Text="ðŸ“· Upload an image or paste from clipboard to start editing"
                           FontSize="16" Foreground="#666666"
                           HorizontalAlignment="Center" VerticalAlignment="Center"
                           Visibility="Visible"/>
            </Grid>
        </Border>
    </Grid>
</Window>
